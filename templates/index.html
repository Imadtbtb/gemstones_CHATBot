<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Gemstone Chatbot</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Open Sans', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #3498db, #9b59b6); /* Retained gradient from HEAD */
            color: #333; /* Updated text color */
            font-size: 16px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: row; /* Changed to row to place description on the side */
        }

        /* Robot Icon */
        .robot-icon {
            font-size: 7rem; /* Made it larger */
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        /* Chatbox Container */
        .chatbox-container {
            display: flex;
            flex-direction: row; /* Layout is row for the description on the side */
            align-items: center;
            justify-content: center;
            height: 80vh; /* Maintain some space around */
            width: 80vw;
        }

        /* Chatbox */
        .chatbox {
            width: 60%; /* The chatbox takes 60% of the width */
            height: 100%;
            padding: 30px;
            text-align: center;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transform: scale(0.8);
            transition: all 0.8s ease-in-out;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        /* Side description */
        .side-description {
            width: 30%; /* Side container takes 30% of the width */
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-left: 20px;
            text-align: left;
        }

        /* Header */
        header {
            text-align: center;
            margin-bottom: 30px;
        }

        .title {
            font-size: 3.5rem;
            text-transform: uppercase;
            letter-spacing: 3px;
            margin-bottom: 15px;
            color: #2c3e50;
            text-shadow: 3px 3px 5px rgba(0, 0, 0, 0.2);
        }

        .subtitle {
            font-size: 1.3rem;
            color: #7f8c8d;
        }

        /* Chat History */
        .chat-history {
            width: 100%;
            height: 100%; /* Full height to take the rest of the space */
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
            padding-right: 10px;
            justify-content: flex-start;
        }

        .chat-message {
            background-color: #f1f1f1;
            padding: 12px 18px;
            border-radius: 8px;
            max-width: 80%;
            font-size: 1rem;
            word-wrap: break-word;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .chat-message.bot {
            background-color: #ebf5f1;
            align-self: flex-start;
            border: 1px solid #b2d8d2;
        }

        .chat-message.user {
            background-color: #3498db;
            color: #fff;
            align-self: flex-end;
            border: 1px solid #2980b9;
        }

        /* Chat Input */
        .chat-input {
            display: flex;
            align-items: center;
            width: 100%;
            gap: 10px;
        }

        .chat-input input {
            width: 70%; /* Reduced the width to make space for the upload button */
            padding: 12px;
            margin-right: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .chat-input input:focus {
            border-color: #3498db;
            box-shadow: 0 0 5px rgba(52, 152, 219, 0.6);
        }

        .chat-input button {
            padding: 12px 24px;
            background-color: #3498db;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chat-input button:hover {
            background-color: #2980b9;
        }

        /* Upload Button */
        .upload-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 12px 24px;
            background-color: #2ecc71;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .upload-btn:hover {
            background-color: #27ae60;
        }

        .upload-btn i {
            margin-right: 8px;
        }

        /* File Input (hidden) */
        .file-input {
            display: none;
        }

        .goal-description {
            font-size: 1.1rem;
            color: #7f8c8d;
            line-height: 1.6;
            font-weight: 400;
        }

    </style>
</head>
<body>
    <!-- Robot Icon -->
    <div class="robot-icon" id="robot-icon">
        ðŸ¤–
    </div>

    <!-- Chatbox Container with Side Description -->
    <div class="chatbox-container">
        <!-- Side Description -->
        <div class="side-description">
            <h2 class="title">Gemstone Chatbot</h2>
            <p class="subtitle">Your Personal Guide to Gemstones</p>
            <p class="goal-description">
                This chatbot is designed to help you learn more about gemstones. Ask questions about various types of gemstones,
                their properties, uses, and much more. You can also upload images of gemstones for identification, and the chatbot
                will provide insights based on the image.
            </p>
        </div>

        <!-- Chatbox -->
        <div class="chatbox" id="chatbox">
            <div class="chat-history" id="chat-history">
                <div class="chat-message bot">
                    Hello! I can help you learn about gemstones. Ask me anything!
                </div>
            </div>

            <div class="chat-input">
                <input type="text" id="user-input" placeholder="Ask me anything about gemstones...">
                <button id="send-btn">Send</button>
                <label for="file-upload" class="upload-btn">
                    <i>ðŸ“Ž</i> Attach
                    <input type="file" id="file-upload" class="file-input">
                </label>
            </div>
        </div>
    </div>

    <script>
        // Get DOM elements
        const robotIcon = document.getElementById("robot-icon");
        const chatbox = document.getElementById("chatbox");
        const userInput = document.getElementById("user-input");
        const sendBtn = document.getElementById("send-btn");
        const chatHistory = document.getElementById("chat-history");
        const fileUpload = document.getElementById("file-upload");

        // Display messages in chat
        function displayMessage(message, sender) {
            const div = document.createElement("div");
            div.classList.add("chat-message", sender);
            div.textContent = message;
            chatHistory.appendChild(div);
            chatHistory.scrollTop = chatHistory.scrollHeight; // Scroll to the bottom
        }

        // Get bot response from AIML (mocked)
        function getBotResponse(userMessage) {
            setTimeout(() => {
                const botMessage = `I am processing your message: ${userMessage}`;
                displayMessage(botMessage, "bot");
            }, 1000);
        }

        // Handle send button click
        sendBtn.addEventListener("click", () => {
            const userMessage = userInput.value.trim();
            if (userMessage) {
                displayMessage(userMessage, "user");
                getBotResponse(userMessage);
                userInput.value = "";
            }
        });

        // Handle enter key press
        userInput.addEventListener("keypress", (e) => {
            if (e.key === "Enter") {
                sendBtn.click();
            }
        });

        // Show the chatbox and hide the side description when robot icon is clicked
        robotIcon.addEventListener("click", () => {
            chatbox.style.display = 'flex';
            chatbox.style.opacity = 1;
            chatbox.style.transform = 'scale(1)';
            robotIcon.style.display = 'none';
            document.querySelector('.side-description').style.display = 'none'; // Hide the side description
        });

        // Handle file upload
        fileUpload.addEventListener("change", (e) => {
            const file = e.target.files[0];
            if (file) {
                displayMessage(`You uploaded a file: ${file.name}`, "user");
                // Further processing for file could go here
            }
        });
    </script>
</body>
</html>
